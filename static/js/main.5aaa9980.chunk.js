(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{205:function(e,t,a){e.exports=a(361)},210:function(e,t,a){},215:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(14),c=a.n(o),i=(a(210),a(31)),s=a(32),u=a(38),l=a(37),m=(a(97),a(36)),d=(a(215),a(372)),f=(a(216),a(81)),p="UPDATE_TEXT",v="UPDATE_SEARCH",T="SET_CURRENT_CITY_DETAILS",h="TOGGLE",E="UPDATE_FORECAST",y="ADD_TO_FAVORITES",O="SET_FAVORITE_CITY_DETAILS",g="FIRST_TIME_FINISHED",F="CLEAR",k="REMOVE_FROM_FAVORITES",b="TOGGLE_DARK_MODE",x="CLOSE_MODAL",D="OPEN_MODAL",M="UPDATE_FAVORITES",j="FIRST_TIME_FINISHED_FAVORITES",A=function(){return JSON.parse(localStorage.getItem("favorites"))},N=function(e){localStorage.setItem("favorites",JSON.stringify(e))},S=function(){return{type:F}},C=function(e){return N(e),{type:M,favorites:e}},I=a(8),_={favorites:[],current:{},searchText:"",searchArr:[],unit:"C",firstTime:!0,firstTimeFavorites:!0,darkmode:!1,show:!1,modalTitle:"",modalText:"",darkModeText:"light"},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TEXT":return Object(I.a)(Object(I.a)({},e),{},{searchText:t.val});case"UPDATE_SEARCH":return Object(I.a)(Object(I.a)({},e),{},{searchArr:t.arr});case"SET_CURRENT_CITY_DETAILS":return Object(I.a)(Object(I.a)({},e),{},{current:{key:t.cityKey,cityName:t.cityName,currentTemp:t.currentTemp,currentStateOfWeather:t.currentStateOfWeather,fiveDaysForecast:t.fiveDaysForecast,icon:t.icon}});case"TOGGLE":return Object(I.a)(Object(I.a)({},e),{},{unit:t.unit,current:Object(I.a)(Object(I.a)({},e.current),{},{currentTemp:t.currentTemp,fiveDaysForecast:t.fiveDaysForecast})});case"UPDATE_FORECAST":return Object(I.a)(Object(I.a)({},e),{},{fiveDaysForecast:t.arr});case"ADD_TO_FAVORITES":return Object(I.a)(Object(I.a)({},e),{},{favorites:t.favorites});case"SET_FAVORITE_CITY_DETAILS":return Object(I.a)(Object(I.a)({},e),{},{current:Object(I.a)({},t.payload)});case"FIRST_TIME_FINISHED":return Object(I.a)(Object(I.a)({},e),{},{firstTime:!1});case"CLEAR":return Object(I.a)(Object(I.a)({},e),{},{searchArr:[],searchText:""});case"REMOVE_FROM_FAVORITES":return Object(I.a)(Object(I.a)({},e),{},{favorites:t.favorites});case"TOGGLE_DARK_MODE":return Object.assign({},e,{darkmode:!e.darkmode,darkModeText:"light"===e.darkModeText?"dark":"light"});case"CLOSE_MODAL":return Object(I.a)(Object(I.a)({},e),{},{show:!1});case"OPEN_MODAL":return Object(I.a)(Object(I.a)({},e),{},{show:!0,modalTitle:t.title,modalText:t.text});case"UPDATE_FAVORITES":return Object(I.a)(Object(I.a)({},e),{},{favorites:t.favorites});case"FIRST_TIME_FINISHED_FAVORITES":return Object(I.a)(Object(I.a)({},e),{},{firstTimeFavorites:!1});default:return e}},R=a(60),L=a(171),V=Object(R.c)(w,Object(R.a)(L.a)),H=a(192),W=function(e){return(1.8*e+32).toFixed(1)},U=function(e){return((e-32)/1.8).toFixed(1)},P=function(e,t){return!(!Array.isArray(t)||!t.length)&&void 0!==t.find((function(t){return e.key===t.key}))},G=function(e){return q(e)&&e.map((function(e){return e.Temperature.Minimum.Value=U(e.Temperature.Minimum.Value),e.Temperature.Maximum.Value=U(e.Temperature.Maximum.Value),e.Temperature.Minimum.Unit="C",e.Temperature.Maximum.Unit="C",e})),e},B=function(e){return q(e)&&e.map((function(e){return e.Temperature.Minimum.Value=W(e.Temperature.Minimum.Value),e.Temperature.Maximum.Value=W(e.Temperature.Maximum.Value),e.Temperature.Minimum.Unit="F",e.Temperature.Maximum.Unit="F",e})),e},J=function(e,t){if(q(e)){var a=Object(H.a)(e);return"F"===t?G(a):B(a)}return e},K=function(){var e=JSON.parse(localStorage.getItem("favorites"));return e.map((function(e){return e.currentTemp=U(e.currentTemp),e.fiveDaysForecast=G(e.fiveDaysForecast),e})),e},Y=function(){var e=JSON.parse(localStorage.getItem("favorites"));return e.map((function(e){return e.currentTemp=W(e.currentTemp),e.fiveDaysForecast=B(e.fiveDaysForecast),e})),e},z=function(e){return e<10?"0"+e:e},q=function(e){return void 0!==e&&null!==e&&e.length>0},X=a(15),Q=a.n(X),Z="https://developer.accuweather.com/sites/default/files/",$="?apikey=eubH33xl3udPrlkaN4qNXhTGkbkYhpWD",ee=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],te="/aviv-kalmanson-23-9-2020",ae=function(e){return{type:p,val:e}},re=function(e){return{type:v,arr:e}},ne=function(e,t,a){var r=V.getState().unit,n=e[1].data[0].WeatherIcon<10?"0"+e[1].data[0].WeatherIcon:e[1].data[0].WeatherIcon,o="C"===r?Math.floor(e[1].data[0].Temperature.Metric.Value):Math.floor(e[1].data[0].Temperature.Imperial.Value),c=e[1].data[0].WeatherText,i="C"===r?G(e[0].data.DailyForecasts):e[0].data.DailyForecasts;return{type:T,data:e,cityKey:t,cityName:a,icon:n,currentTemp:o,currentStateOfWeather:c,fiveDaysForecast:i}},oe=function(){return{type:g}},ce=function(e,t){return{type:D,title:e,text:t}},ie=function(e,t){return function(a){Q.a.all([Q.a.get("forecasts/v1/daily/5day/"+e+$),Q.a.get("currentconditions/v1/"+e+$)]).then((function(r){a(ne(r,e,t)),a(S())})).catch((function(e){return a(ce("Error",e.toString()))}))}},se=a(373),ue=a(368),le=function(e){return n.a.createElement(se.a,{show:e.show,onHide:e.closeModal},n.a.createElement(se.a.Header,{closeButton:!0},n.a.createElement(se.a.Title,null,e.modalTitle)),n.a.createElement(se.a.Body,null,e.modalText),n.a.createElement(se.a.Footer,null,n.a.createElement(ue.a,{variant:"secondary",onClick:e.closeModal},"Close")))},me=a(125),de=a(369),fe=a(370),pe=a(371),ve=a(376),Te=a(193),he=(a(244),function(e){return e.isFav?n.a.createElement(ve.a,{className:"col-xl-2 favorites-cards",onClick:e.click,as:Te.a},n.a.createElement(ve.a.Body,null,n.a.createElement(ve.a.Title,{className:"cards-text"},e.currentFavorite.cityName),n.a.createElement("div",{className:"cards-text"},e.currentTemp," \xb0",e.unit,n.a.createElement("div",{className:"current-state"},e.currentFavorite.currentStateOfWeather),n.a.createElement("div",{className:"image"},n.a.createElement("img",{src:Z+e.currentFavorite.icon+"-s.png",alt:"weather icon day"}))))):n.a.createElement(ve.a,{className:"col-xl-2 cards-style"},n.a.createElement(ve.a.Body,null,n.a.createElement(ve.a.Title,{className:"cards-title"},ee[(e.today+e.index)%7]),n.a.createElement("div",{className:"cards-text card-margin"},e.currentDay.Temperature.Minimum.Value,"  - ",e.currentDay.Temperature.Maximum.Value," \xb0",e.unit,n.a.createElement("div",{className:"row icons-day-night justify-content-center"},n.a.createElement("span",null,"Day:"),n.a.createElement("img",{src:Z+z(e.currentDay.Day.Icon)+"-s.png",alt:"weather icon day"}),n.a.createElement("span",null,"Night:"),n.a.createElement("img",{src:Z+z(e.currentDay.Night.Icon)+"-s.png",alt:"weather icon night"})))))}),Ee=(a(245),function(e){return e.isFav?n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row justify-content-center"},q(e.favorites)?e.favorites.map((function(t){return n.a.createElement(he,{key:t.key,currentFavorite:t,click:function(){return e.click(t)},currentTemp:t.currentTemp,unit:e.unit,isFav:e.isFav})})):n.a.createElement("h1",{className:"text-"+e.darkModeText+"-mode-active no-favorites-h1"},"You don't have any favorites currently"))):n.a.createElement("div",{className:"row justify-content-center"},q(e.current.fiveDaysForecast)?e.current.fiveDaysForecast.map((function(t,a){return n.a.createElement(he,{currentDay:t,today:e.today,index:a,unit:e.unit,key:t.Date,isFav:e.isFav})})):null)}),ye=(a(246),function(e){return n.a.createElement(de.a,{className:"jumbotron-"+e.darkModeText+" container"},n.a.createElement(fe.a,{className:"show-grid"},n.a.createElement(pe.a,{xs:6,className:"d-flex justify-content-start"},n.a.createElement("section",null,n.a.createElement("h3",{className:"DarkText"},e.current.cityName),n.a.createElement("h3",{className:"DarkText"},e.current.currentTemp," \xb0",e.unit),n.a.createElement("img",{src:Z+e.current.icon+"-s.png",alt:"weather icon"})),"                        "),n.a.createElement(pe.a,{xs:6,className:"d-flex justify-content-end"},n.a.createElement("section",null,P(e.current,e.favorites)?n.a.createElement(me.b,{className:"icons"}):n.a.createElement(me.a,{className:"icons"}),n.a.createElement(ue.a,{variant:"dark",className:"add-to-favorites",onClick:e.click},P(e.current,e.favorites)?"Remove from favorites":"Add to favorites")))),n.a.createElement("h1",{className:"dark-text state-of-weather"},e.current.currentStateOfWeather),n.a.createElement("div",{className:"cards-list-home"},n.a.createElement(Ee,{current:e.current,today:(new Date).getDay(),unit:e.unit,isFav:!1})))}),Oe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).addToFavoritesHandler=function(){P(e.props.current,e.props.favorites)?e.props.removeFromFavorites(e.props.current.key):e.props.addToFavorites()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=A();this.props.updateFavorites(e),this.props.first&&this.props.firstLoad()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:this.props.darkModeText},n.a.createElement("section",{className:"search"},n.a.createElement(d.a,{className:"icon search-dropdown-style",icon:"world",button:!0,floating:!0,labeled:!0,options:this.props.searchText,search:!0,placeholder:"Enter City",onSearchChange:function(t){return e.props.changeHandler(t)},onChange:function(t){e.props.submit(function(e,t){var a=t.find((function(t){return t.text===e}));return void 0===a?t[0].key:a.key}(t.currentTarget.textContent,e.props.searchText),t.currentTarget.textContent.split(",")[0])}})),n.a.createElement(f.CSSTransitionGroup,{transitionName:"cards",transitionAppear:!0,transitionAppearTimeout:1e3,transitionEnterTimeout:1e3,transitionLeaveTimeout:1e3},n.a.createElement(ye,{unit:this.props.unit,current:this.props.current,favorites:this.props.favorites,click:this.addToFavoritesHandler,darkModeText:this.props.darkModeText})),n.a.createElement(le,{modalTitle:this.props.modalTitle,modalText:this.props.modalText,closeModal:this.props.closeModal,show:this.props.show}))}}]),a}(r.Component),ge=Object(m.b)((function(e){return{favorites:e.favorites,current:e.current,text:e.searchText,searchText:e.searchArr,unit:e.unit,first:e.firstTime,darkMode:e.darkmode,show:e.show,modalText:e.modalText,modalTitle:e.modalTitle,darkModeText:e.darkModeText}}),(function(e){return{updateText:function(t){return e(ae(t))},updateSearch:function(t){return e(re(t))},setCurrentCityDetails:function(t,a,r){return e(ne(t,a,r))},updateForecast:function(t){return e(function(e){return{type:E,arr:e}}(t))},addToFavorites:function(){return e(function(){var e=A(),t=V.getState().current,a=[];return q(e)?a=e.concat(t):a.push(t),N(a),{type:y,favorites:a}}())},firstTimeFinished:function(){return e(oe())},clearText:function(){return e(S())},removeFromFavorites:function(t){return e(function(e){var t=V.getState().favorites.filter((function(t){return t.key!==e}));return N(t),{type:k,favorites:t}}(t))},closeModal:function(){return e({type:x})},openModal:function(t,a){return e(ce(t,a))},updateFavorites:function(t){return e(C(t))},submit:function(t,a){return e(ie(t,a))},changeHandler:function(t){return e(function(e){return function(t){t(ae(e.target.value)),Q.a.get("locations/v1/cities/autocomplete"+$+"&q="+e.target.value).then((function(e){for(var a=[],r=0;r<e.data.length;r++)a[r]={key:e.data[r].Key,text:e.data[r].LocalizedName+","+e.data[r].AdministrativeArea.LocalizedName+","+e.data[r].Country.ID,value:e.data[r].LocalizedName+","+e.data[r].AdministrativeArea.LocalizedName+","+e.data[r].Country.ID};t(re(a))})).catch((function(e){return t(ce("Error",e.toString()))}))}}(t))},firstLoad:function(){return e((function(e){Q.a.all([Q.a.get("forecasts/v1/daily/5day/215854"+$),Q.a.get("currentconditions/v1/215854"+$)]).then((function(t){e(ne(t,"215854","Tel Aviv")),e(oe())})).then((function(){navigator.geolocation.getCurrentPosition((function(t){var a=t.coords;Q.a.get("locations/v1/cities/geoposition/search"+$+"&q="+a.latitude+"%2C"+a.longitude).then((function(t){e(ie(t.data.Key,t.data.EnglishName)),e(oe())})).catch((function(t){return e(ce("Error",t.toString()))}))}),(function(){e(ce("Note","Access denied to your location! No worries, we will use Tel Aviv as default."))}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})})).catch((function(t){return e(ce("Error",t.toString()))}))}))}}}))(Oe),Fe=a(189),ke=function(){return{type:j}},be=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleClickOnCard=function(t){e.props.history.push(te),e.props.clearText(),e.props.setFavoriteCityDetails(t)},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.firstTimeFavorites&&this.props.firstLoadFavorites()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:this.props.darkModeText},n.a.createElement(f.CSSTransitionGroup,{transitionName:"cards",transitionAppear:!0,transitionAppearTimeout:1e3,transitionEnterTimeout:1e3,transitionLeaveTimeout:1e3},n.a.createElement(Ee,{click:function(t){return e.handleClickOnCard(t)},unit:this.props.unit,favorites:this.props.favorites,darkModeText:this.props.darkModeText,isFav:!0})))}}]),a}(r.Component),xe=Object(m.b)((function(e){return{favorites:e.favorites,current:e.current,darkMode:e.darkmode,unit:e.unit,firstTimeFavorites:e.firstTimeFavorites,darkModeText:e.darkModeText}}),(function(e){return{setFavoriteCityDetails:function(t){return e({type:O,payload:t})},clearText:function(){return e(S())},firstTimeFinishedFavorites:function(){return e(ke())},updateFavorites:function(t){return e(C(t))},firstLoadFavorites:function(){return e((function(e){var t,a=A(),r=[],n=Object(Fe.a)(a);try{for(n.s();!(t=n.n()).done;){var o=t.value;r.push(Q.a.all([Q.a.get("forecasts/v1/daily/5day/"+o.key+$),Q.a.get("currentconditions/v1/"+o.key+$)]))}}catch(i){n.e(i)}finally{n.f()}var c=V.getState().unit;Q.a.all(r).then((function(t){for(var r=0;r<t.length;r++)a[r].fiveDaysForecast="C"===c?G(t[r][0].data.DailyForecasts):t[r][0].data.DailyForecasts,a[r].currentStateOfWeather=t[r][1].data[0].WeatherText,a[r].currentTemp="C"===c?Math.floor(t[r][1].data[0].Temperature.Metric.Value):Math.floor(t[r][1].data[0].Temperature.Imperial.Value),a[r].icon=t[r][1].data[0].WeatherIcon<10?"0"+t[r][1].data[0].WeatherIcon:t[r][1].data[0].WeatherIcon;e(C(a)),e(ke())}))}))}}}))(be),De=a(55),Me=a(10),je=(a(357),a(374)),Ae=a(375),Ne=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).toggleHandle=function(){var t,a,r,n=e.props.unit;"C"===n?(t="F",a=W(e.props.current.currentTemp),r=Y()):(t="C",a=U(e.props.current.currentTemp),r=K()),P(e.props.favorites,e.props.current)||e.props.toggle(a,t,J(e.props.current.fiveDaysForecast,n)),e.props.updateFavorites(r)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(je.a,{collapseOnSelect:!0,expand:"lg",bg:this.props.darkMode?"light":"dark",variant:this.props.darkMode?"light":"dark"},n.a.createElement(je.a.Brand,{as:De.b,to:te},"Herolo Weather Task"),n.a.createElement(ue.a,{style:{backgroundColor:"#343A40",border:"1px solid #343A40"},onClick:function(){e.toggleHandle()},variant:"secondary"},n.a.createElement("span",{className:"C"===this.props.unit?"active":null},"\xb0C "),n.a.createElement("span",null,"/"),n.a.createElement("span",{className:"F"===this.props.unit?"active":null}," \xb0F")),n.a.createElement(ue.a,{style:{backgroundColor:"#343A40",border:"1px solid #343A40",marginLeft:"10px"},onClick:function(){e.props.toggleDarkMode()},variant:"secondary"},"Dark Mode"),n.a.createElement(je.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),n.a.createElement(je.a.Collapse,{id:"responsive-navbar-nav"},n.a.createElement(Ae.a,{className:"ml-auto"},n.a.createElement(Ae.a.Link,{as:De.b,to:te},"Home"),n.a.createElement(Ae.a.Link,{as:De.b,to:"/aviv-kalmanson-23-9-2020/favorites"},"Favorites "))))}}]),a}(r.Component),Se=Object(m.b)((function(e){return{darkMode:e.darkmode,unit:e.unit,current:e.current,favorites:e.favorites}}),(function(e){return{toggle:function(t,a,r){return e(function(e,t,a){return{type:h,unit:t,currentTemp:e,fiveDaysForecast:a}}(t,a,r))},toggleDarkMode:function(){return e({type:b})},updateFavorites:function(t){return e(C(t))}}}))(Ne),Ce=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"app"},n.a.createElement(De.a,null,n.a.createElement(Se,null),n.a.createElement(Me.a,{path:te,exact:!0,component:ge}),n.a.createElement(Me.a,{path:"/aviv-kalmanson-23-9-2020/favorites",exact:!0,component:xe})))}}]),a}(r.Component);Q.a.defaults.baseURL="https://dataservice.accuweather.com/",c.a.render(n.a.createElement(m.a,{store:V},n.a.createElement(Ce,null)),document.getElementById("root"))},97:function(e,t,a){}},[[205,1,2]]]);
//# sourceMappingURL=main.5aaa9980.chunk.js.map